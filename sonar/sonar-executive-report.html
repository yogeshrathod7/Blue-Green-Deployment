<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SonarQube Production Code Quality Report</title>

<style>
body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 32px;
  color: #222;
}

h1 {
  color: #0b3c5d;
  border-bottom: 3px solid #0b3c5d;
  padding-bottom: 6px;
}

h2 {
  margin-top: 28px;
  color: #0b3c5d;
  border-bottom: 1px solid #ccc;
}

.summary-box {
  background: #f7f9fb;
  border: 1px solid #dcdcdc;
  padding: 16px;
  margin-top: 16px;
}

.metric-grid {
  display: flex;
  justify-content: space-between;
  margin-top: 16px;
}

.metric {
  width: 23%;
  background: #ffffff;
  border: 1px solid #ddd;
  padding: 12px;
  text-align: center;
}

.metric span {
  font-size: 26px;
  font-weight: bold;
}

.pass { color: #0a7d3b; font-weight: bold; }
.fail { color: #c00000; font-weight: bold; }

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 18px;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  font-size: 12px;
}

th {
  background-color: #f1f1f1;
}

.severity-CRITICAL { color: #a80000; font-weight: bold; }
.severity-MAJOR { color: #d35400; font-weight: bold; }

.footer {
  margin-top: 40px;
  font-size: 10px;
  color: #666;
  border-top: 1px solid #ddd;
  padding-top: 10px;
}
</style>
</head>

<body>

<h1>SonarQube Production Code Quality Report</h1>

<div class="summary-box">
  <p><b>Project:</b> {{PROJECT_NAME}}</p>
  <p><b>Environment:</b> {{ENVIRONMENT}}</p>
  <p><b>Branch:</b> {{BRANCH}}</p>
  <p><b>Commit ID:</b> {{COMMIT_ID}}</p>
  <p><b>Generated On:</b> {{GENERATED_DATE}}</p>
</div>

<h2>Quality Gate Result</h2>
<p class="{{QG_CLASS}}">
{{QUALITY_GATE}}
</p>

<h2>Executive Summary</h2>

<div class="metric-grid">
  <div class="metric">
    <h4>Critical Issues</h4>
    <span>{{CRITICAL_ISSUES}}</span>
  </div>
  <div class="metric">
    <h4>Major Issues</h4>
    <span>{{MAJOR_ISSUES}}</span>
  </div>
  <div class="metric">
    <h4>Vulnerabilities</h4>
    <span>{{VULNERABILITIES}}</span>
  </div>
  <div class="metric">
    <h4>Total Issues</h4>
    <span>{{TOTAL_ISSUES}}</span>
  </div>
</div>

<h2>Quality Ratings</h2>
<ul>
  <li><b>Reliability:</b> {{RELIABILITY_GRADE}}</li>
  <li><b>Security:</b> {{SECURITY_GRADE}}</li>
  <li><b>Maintainability:</b> {{MAINTAINABILITY_GRADE}}</li>
</ul>

<h2>Production Readiness Decision</h2>
<ul>
  <li>Quality Gate: <b>{{QUALITY_GATE}}</b></li>
  <li>Critical Issues: <b>{{CRITICAL_ISSUES}}</b></li>
  <li><b>Decision: {{FINAL_DECISION}}</b></li>
</ul>

<h2>Top Critical & Major Issues</h2>

<table>
<tr>
  <th>Type</th>
  <th>Severity</th>
  <th>File</th>
  <th>Line</th>
  <th>Description</th>
</tr>

{{ISSUE_ROWS}}

</table>

<div class="footer">
This report is auto-generated by CI/CD pipeline.<br/>
It reflects production readiness for the specific commit mentioned above.
</div>

</body>
</html>
